{"version":3,"sources":["index.js"],"names":["require","h","copyToClipboard","EditButton","file","uploadInProgressOrComplete","metaFields","i18n","onClick","length","meta","name","RemoveButton","copyLinkToClipboard","event","props","uploadURL","then","log","info","catch","target","focus","preventScroll","CopyLinkButton","module","exports","Buttons","showLinkToFileUploadResult","showRemoveButton","removeFile","toggleFileCard","id"],"mappings":"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","sourcesContent":["const { h } = require('preact')\nconst copyToClipboard = require('../../../utils/copyToClipboard')\n\nfunction EditButton ({\n  file,\n  uploadInProgressOrComplete,\n  metaFields,\n  i18n,\n  onClick\n}) {\n  if (!uploadInProgressOrComplete &&\n      metaFields &&\n      metaFields.length > 0) {\n    return (\n      <button\n        class=\"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit\"\n        type=\"button\"\n        aria-label={i18n('editFile') + ' ' + file.meta.name}\n        title={i18n('editFile')}\n        onclick={() => onClick()}\n      >\n        <svg aria-hidden=\"true\" focusable=\"false\" class=\"uppy-c-icon\" width=\"14\" height=\"14\" viewBox=\"0 0 14 14\">\n          <g fill-rule=\"evenodd\">\n            <path d=\"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z\" fill-rule=\"nonzero\" />\n            <rect x=\"1\" y=\"12.293\" width=\"11\" height=\"1\" rx=\".5\" />\n            <path fill-rule=\"nonzero\" d=\"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z\" />\n          </g>\n        </svg>\n      </button>\n    )\n  }\n  return null\n}\n\nfunction RemoveButton ({ i18n, onClick }) {\n  return (\n    <button\n      class=\"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove\"\n      type=\"button\"\n      aria-label={i18n('removeFile')}\n      title={i18n('removeFile')}\n      onclick={() => onClick()}\n    >\n      <svg aria-hidden=\"true\" focusable=\"false\" class=\"uppy-c-icon\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\">\n        <path d=\"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z\" />\n        <path fill=\"#FFF\" d=\"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z\" />\n      </svg>\n    </button>\n  )\n}\n\nconst copyLinkToClipboard = (event, props) => {\n  copyToClipboard(props.file.uploadURL, props.i18n('copyLinkToClipboardFallback'))\n    .then(() => {\n      props.log('Link copied to clipboard.')\n      props.info(props.i18n('copyLinkToClipboardSuccess'), 'info', 3000)\n    })\n    .catch(props.log)\n    // avoid losing focus\n    .then(() => event.target.focus({ preventScroll: true }))\n}\n\nfunction CopyLinkButton (props) {\n  return (\n    <button\n      class=\"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink\"\n      type=\"button\"\n      aria-label={props.i18n('copyLink')}\n      title={props.i18n('copyLink')}\n      onclick={(event) => copyLinkToClipboard(event, props)}\n    >\n      <svg aria-hidden=\"true\" focusable=\"false\" class=\"uppy-c-icon\" width=\"14\" height=\"14\" viewBox=\"0 0 14 12\">\n        <path d=\"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z\" />\n      </svg>\n    </button>\n  )\n}\n\nmodule.exports = function Buttons (props) {\n  const {\n    file,\n    uploadInProgressOrComplete,\n    metaFields,\n    showLinkToFileUploadResult,\n    showRemoveButton,\n    i18n,\n    removeFile,\n    toggleFileCard,\n    log,\n    info\n  } = props\n\n  return (\n    <div className=\"uppy-Dashboard-Item-actionWrapper\">\n      <EditButton\n        i18n={i18n}\n        file={file}\n        uploadInProgressOrComplete={uploadInProgressOrComplete}\n        metaFields={metaFields}\n        onClick={() => toggleFileCard(file.id)}\n      />\n      {showLinkToFileUploadResult && file.uploadURL ? (\n        <CopyLinkButton\n          file={file}\n          i18n={i18n}\n          info={info}\n          log={log}\n        />\n      ) : null}\n      {showRemoveButton ? (\n        <RemoveButton\n          i18n={i18n}\n          info={props.info}\n          log={props.log}\n          onClick={() => removeFile(file.id, 'removed-by-user')}\n        />\n      ) : null}\n    </div>\n  )\n}\n"]}